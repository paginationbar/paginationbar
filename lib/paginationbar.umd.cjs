(function(r,n){typeof exports=="object"&&typeof module!="undefined"?n(exports):typeof define=="function"&&define.amd?define(["exports"],n):(r=typeof globalThis!="undefined"?globalThis:r||self,n(r.PaginationBar={}))})(this,function(r){"use strict";var m=Object.defineProperty;var P=(r,n,i)=>n in r?m(r,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[n]=i;var u=(r,n,i)=>(P(r,typeof n!="symbol"?n+"":n,i),i);var n=(s=>(s.getContainerElError="Can not find container elemet.",s))(n||{}),i=(s=>(s.containerClassName="pagination-bar-container",s.pagerWrapperClassName="pagination-bar__pager",s.pagerItemClassName="pagination-bar__pager__number",s))(i||{});function h(s,e){const t=typeof e=="string"?[e]:e;s.classList.add(...t)}class p{constructor(e){u(this,"options",{pagerCount:7,currentPage:1,pageSize:10,total:0,container:"#pagination-bar-container",onCurrentPageChange:()=>{},onPageSizeChange:()=>{}});this.options=Object.assign(this.options,e),this.render()}setCurrentPage(e,t=!0){var a;this.options.currentPage=e,(a=this.options)==null||a.onCurrentPageChange(this.options.currentPage),t&&this.render()}setPageSize(e,t=!0){var a;this.options.pageSize=e,(a=this.options)==null||a.onPageSizeChange(this.options.pageSize),t&&this.render()}setTotal(e,t=!0){this.options.total=e||0,t&&this.render()}setOptions(e,t=!1){this.options=Object.assign(this.options,e),t&&this.render()}get pageCount(){return Math.ceil(this.options.total/this.options.pageSize)}get lastPageNumber(){return this.pageCount}get mainPagerCount(){const e=this.options.pagerCount-2;return e<=0?0:e}get mainPagerGap(){return Math.floor(this.mainPagerCount/2)}get mainPagerStart(){let e=this.mainPagerGap;const t=this.lastPageNumber-this.options.currentPage;t<=this.mainPagerGap&&(e+=this.mainPagerGap-t+1);const a=this.options.currentPage-e;return a<1?1:a}get mainPagerEnd(){let e=this.mainPagerCount%2===0?this.mainPagerGap-1:this.mainPagerGap;const t=this.options.currentPage-1;t<=this.mainPagerGap&&(e+=this.mainPagerGap-t+1);const a=this.options.currentPage+e;return a>this.pageCount?this.pageCount:a}get mainPager(){const e=[];for(let t=this.mainPagerStart;t<=this.mainPagerEnd;t++)e.push({pageNumber:t,type:"main"});return e}get leftPager(){const e=[],t=this.mainPager[0];return t&&t.pageNumber!==1&&(e.push({pageNumber:1,type:"first-page"}),this.pageCount>this.options.pagerCount&&typeof t.pageNumber=="number"&&t.pageNumber>2&&e.push({pageNumber:null,type:"prev-ellipsis"})),e}get rightPager(){const e=[],t=this.mainPager[this.mainPager.length-1];return t&&t.pageNumber!==this.pageCount&&(e.unshift({pageNumber:this.pageCount,type:"last-page"}),this.pageCount>this.options.pagerCount&&typeof t.pageNumber=="number"&&t.pageNumber<this.pageCount-1&&e.unshift({pageNumber:null,type:"next-ellipsis"})),e}get finalPager(){return this.leftPager.concat(this.mainPager,this.rightPager)}getContainerEl(){if(typeof this.options.container=="string"){const e=document.querySelector(this.options.container);if(!e)throw new Error(n.getContainerElError);return e}return this.options.container}isPagerNumberType(e){return!["prev-ellipsis","next-ellipsis"].includes(e)}generatePager(){const e=this.finalPager.reduce((t,a)=>{const g=this.isPagerNumberType(a.type)?a.pageNumber:"...",o=this.options.currentPage===a.pageNumber?"active":"";return t+=`<li class="${i.pagerItemClassName} ${o}" data-number="${a.pageNumber}" data-type="${a.type}">${g}</li>`,t},"");return`<ul class="${i.pagerWrapperClassName}">${e}</ul>`}getPagerItemDataset(e){return e.dataset}registerPagerListener(){var e;(e=this.getContainerEl().querySelectorAll(`.${i.pagerWrapperClassName} .${i.pagerItemClassName}`))==null||e.forEach(t=>{t.addEventListener("click",a=>{const g=a.target,o=this.getPagerItemDataset(g);if(this.isPagerNumberType(o.type)){const c=Number(o.number);this.setCurrentPage(c)}})})}render(){const e=this.getContainerEl();h(e,i.containerClassName);const a=`${this.generatePager()}`;e.innerHTML=a,this.registerPagerListener()}}const C="",l=s=>new p(s);r.PaginationBar=p,r.createPaginationBar=l,Object.defineProperty(r,Symbol.toStringTag,{value:"Module"})});
